## Vim 学习部分

把 Vim 的部分单独拿出来学习。

Vim 是多模式的文本编辑器，是为了满足不用鼠标也能够进行各种操作 —— 例如复制粘贴等要求的。

Vim 有四种模式：普通模式（Normal-mode）、插入模式（Insert-mode）、命令模式（Command-mode）、可视模式（Visual-mode）。

### 1. 不同模式变换

#### 1.1. 普通模式。

在光标当前位置进入到插入模式：`i`

进入插入模式，同时光标跳到当前行的开头：`I`

… 光标跳到当前位置下一个：`a`

… 光标跳到当前行的结尾：`A`

… 光标跳到下一行（新出一个空行）：`o`

… 关闭跳到上一行（新出一个空行）：`O`

光标移动：`hljk` 分别为左右下上。在图形化终端时候可以使用键盘的上下左右，但是在字母终端时还得使用 hljk 来控制。

进入可视模式：`v`

进入命令模式：按 `:`

复制一行：`yy`；粘贴：`p`（在当前行下面粘贴）

复制三行：`3yy`；复制当前光标到结尾的字符：`y$`

剪切一行：`dd`；剪切当前光标到结尾的字符：`d$`

撤销：`u`；重做：`ctrl + r`

删除：`x`；替换当前字符：按 `r` 再键入

显示当前所在行：`:set nu`；跳到指定行：`<行号> + G`；跳到第一行：`g`；跳到最后一行：`G`

跳到行开头：`^`；跳到行末尾：`$`

#### 1.2. 命令模式

保存：`:w + <文件路径名>`；保存并退出：`:wq`；不保存退出：`:q!`

临时执行 Linux 命令：`:! <命令>`（查看完成后回车返回）

查找：`/<字符>`（有多个的时候按 `n` 查找下一个，`N` 上一个）

当前行替换：`:s/<旧字符>/<新字符>`；整个文件替换：`:%s/<旧字符>/<新字符>`

全部都替换：`:%s/<旧字符>/<新字符>/g`

指定行（3 到 5 行）替换：`:3,5s/<旧字符>/<新字符>/g`

显示行号：`:set nu`；不显示行号：`:set nonu`（单次有效）

**设置默认显示行号（Windows 上）：**打开目录里的 `_vimrc` 文件，在末尾加上 `set nu`。

#### 1.3. 可视模式

字符可视模式：`v`；行可视模式：`V`；块可视模式：`ctrl + v`

> 配合 `d` 和 `I` 可进行块的便利操作

块可视模式编辑：使用块可视选择一个块，然后 `I` 进去，插入想要加入的字符，双击 `ESC`，就会在每一行的同一个位置都插入这些字符。

块删除：选定一个块，然后 `d` 删除。